<%= render "admin/shared/page_header",
  title: @cash_location.name,
  description: "#{@cash_location.location_type.titleize} #{@cash_location.code} at #{@cash_location.branch.name}",
  secondary_button_path: admin_cash_locations_path,
  secondary_button_label: "Back to Cash Locations",
  primary_button_path: edit_admin_cash_location_path(@cash_location),
  primary_button_label: "Edit" %>

<div class="space-y-4">
  <section class="card bg-base-100 border border-base-300">
    <div class="card-body">
      <dl class="grid grid-cols-1 gap-2 sm:grid-cols-2">
        <dt class="font-medium text-slate-600">Branch</dt>
        <dd><%= link_to @cash_location.branch.name, admin_branch_path(@cash_location.branch), class: "link" %></dd>

        <dt class="font-medium text-slate-600">Code</dt>
        <dd><%= @cash_location.code %></dd>

        <dt class="font-medium text-slate-600">Name</dt>
        <dd><%= @cash_location.name %></dd>

        <dt class="font-medium text-slate-600">Type</dt>
        <dd><%= @cash_location.location_type %></dd>

        <dt class="font-medium text-slate-600">Active</dt>
        <dd><%= @cash_location.active? ? "Yes" : "No" %></dd>
      </dl>
    </div>
  </section>

  <section class="card bg-base-100 border border-base-300">
    <div class="card-body">
      <h2 class="card-title text-base">Assignment History</h2>
      <% if @cash_location_assignments.any? %>
        <div class="overflow-x-auto">
          <table class="table">
            <thead>
              <tr>
                <th>Session</th>
                <th>Assigned At</th>
                <th>Released At</th>
              </tr>
            </thead>
            <tbody>
              <% @cash_location_assignments.each do |assignment| %>
                <tr>
                  <td><%= link_to "Session ##{assignment.teller_session_id}", admin_cash_location_assignment_path(assignment), class: "link" %></td>
                  <td><%= assignment.assigned_at.strftime("%Y-%m-%d %H:%M") %></td>
                  <td><%= assignment.released_at&.strftime("%Y-%m-%d %H:%M") || "â€”" %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <p class="text-sm text-slate-600">No assignments yet.</p>
      <% end %>
    </div>
  </section>
</div>
