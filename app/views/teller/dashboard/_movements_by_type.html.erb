<section class="card bg-base-100 border border-base-300">
  <div class="card-body">
    <h2 class="card-title text-base">Movements</h2>
    <p class="text-xs text-slate-600 mt-1">Transaction counts and amounts by type for the current session.</p>
    <div class="divider my-3"></div>

    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead>
          <tr class="row-border t-head">
            <th class="py-2 text-left">Transaction Type</th>
            <th class="py-2 text-right">Count</th>
            <th class="py-2 text-right">Amount</th>
          </tr>
        </thead>
        <tbody>
          <% (movements_by_type || []).each do |row| %>
            <tr class="row-border">
              <td class="py-2"><%= row[:transaction_type].to_s.titleize %></td>
              <td class="py-2 text-right mono tabular-nums"><%= row[:count] %></td>
              <td class="py-2 text-right mono tabular-nums <%= row[:net_cents].negative? ? 'text-error font-medium' : 'ui-money' %>">
                <% if row[:count].zero? %>
                  â€”
                <% else %>
                  <%= row[:net_cents].negative? ? "" : "+" %><%= number_to_currency(row[:net_cents] / 100.0) %>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</section>
