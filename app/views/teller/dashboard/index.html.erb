<div class="space-y-4">
  <%= render "teller/shared/topbar", teller_session: @teller_session %>
  <%= render "teller/shared/page_header",
    title: "Teller Transaction Flows",
    description: "Open a dedicated transaction page for Deposit, Withdrawal, or Transfer.",
    secondary_button_path: teller_context_path,
    secondary_button_label: "Manage Environment & Session" %>

  <% if @teller_session.present? %>
    <section class="card bg-base-100 border border-base-300">
      <div class="card-body">
        <h2 class="card-title text-lg">Transaction Flows</h2>
        <p class="text-sm opacity-80">Open dedicated teller flow pages.</p>
        <div class="flex flex-wrap gap-2">
          <% if @teller_session.cash_location.present? %>
            <%= link_to "Deposit", new_teller_deposit_path, class: "btn btn-outline btn-sm" %>
            <%= link_to "Withdrawal", new_teller_withdrawal_path, class: "btn btn-outline btn-sm" %>
          <% end %>
          <%= link_to "Transfer", new_teller_transfer_path, class: "btn btn-outline btn-sm" %>
        </div>
      </div>
    </section>

  <% else %>
    <section class="card bg-base-100 border border-base-300">
      <div class="card-body">
        <h2 class="card-title text-lg">Setup Required</h2>
        <p>Set branch/workstation and open a teller session to enable transaction entry.</p>
        <p><%= link_to "Open Session Setup", teller_context_path, class: "btn btn-primary btn-sm" %></p>
      </div>
    </section>
  <% end %>
</div>